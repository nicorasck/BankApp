@page "/Bank/CreateAccount"
@using BankApp.Models
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Authorization
@inject UserManager<ApplicationUser> UserManager
@layout BankLayout
@attribute [Authorize]
@rendermode InteractiveServer 

<PageTitle>Create Account</PageTitle>

<h3>Create Account</h3>

<!-- Main Container -->
<div class="container-fluid mt-5">
    <div class="row">
        <div class="col-md-6">
            <EditForm Model="Input" OnValidSubmit="Create" FormName="Account">
                <!-- Account Name -->
                <ValidationSummary class="text-danger" role="alert" />
                <div class="fw-bold">Account name</div>
                <div class="form-floating mb-3">
                    <InputText @bind-Value="Input.AccountName" class="form-control" placeholder="Account name" required />
                    <label for="account-name">Account name</label>
                    <ValidationMessage For="() => Input.AccountName" class="text-danger" />
                </div>
                <!-- Button to submit account name -->
                <button type="submit" class="w-100 btn btn-lg btn-primary">Create</button>
            </EditForm>
        </div>
    </div>
    <AuthorizeView>
    <div class="alert alert-success" role="alert">
        Balance: <strong></strong>
    </div>
    </AuthorizeView>

</div>




@code{
    private ApplicationUser? user;
    private Account? account;
    private AccountType accountType;
    private AccountInputModel Input { get; set;} = new();


    private async Task Create()
    {

    }
    private sealed class AccountInputModel
    {
        [Required]
        [StringLength(32, ErrorMessage = "Max 32 characters.")]
        [Display(Name = "AccountName")]
        public string AccountName { get; set; } = "";
    }


    
}